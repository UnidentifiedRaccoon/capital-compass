/**
 * –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏ –ø–æ–∫–∞–∑–∞ –∫–Ω–æ–ø–∫–∏ PDF
 */

// –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–æ–≤–µ—Ä–∫–∏ (–∫–æ–ø–∏—Ä—É–µ–º –µ—ë —Å—é–¥–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
function isCalculationResponse(response) {
  const calculationIndicators = [
    'üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:',
    '–¢—Ä–µ–±—É–µ–º—ã–π –≤–∑–Ω–æ—Å:',
    '–ü—Ä–æ–≥–Ω–æ–∑ –∫–∞–ø–∏—Ç–∞–ª–∞',
    '–ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –≤—ã–ø–ª–∞—Ç–∞',
    '–†–∞–∑–±–∏–≤–∫–∞ –ø—Ä–∏—Ç–æ–∫–∞:',
    'üí∞ –õ–∏—á–Ω—ã–µ –≤–∑–Ω–æ—Å—ã:',
    'üèõÔ∏è –ì–æ—Å–ø–æ–¥–¥–µ—Ä–∂–∫–∞:',
    'üí∏ –ù–∞–ª–æ–≥–æ–≤—ã–π –≤—ã—á–µ—Ç:',
  ];

  return calculationIndicators.some((indicator) => response.includes(indicator));
}

// –¢–µ—Å—Ç–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã
const testResponses = [
  {
    name: '–†–∞—Å—á—ë—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏',
    text: `üéØ **–¶–µ–ª—å:** —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –≤–∑–Ω–æ—Å –≤ –ü–î–°

üìä **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –¢—Ä–µ–±—É–µ–º—ã–π –≤–∑–Ω–æ—Å: 143 000 ‚ÇΩ –≤ –º–µ—Å—è—Ü
- –ü—Ä–æ–≥–Ω–æ–∑ –∫–∞–ø–∏—Ç–∞–ª–∞ –∫ –Ω–∞—á–∞–ª—É –≤—ã–ø–ª–∞—Ç: 11 115 000 ‚ÇΩ
- –ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –≤—ã–ø–ª–∞—Ç–∞: 150 000 ‚ÇΩ`,
    expected: true,
  },
  {
    name: '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç',
    text: `–ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö —Å–±–µ—Ä–µ–∂–µ–Ω–∏–π (–ü–î–°) ‚Äî —ç—Ç–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –Ω–∞ –ø–µ–Ω—Å–∏—é —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ª—å–≥–æ—Ç–∞–º–∏:

üèõÔ∏è –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ 36 000 ‚ÇΩ –≤ –≥–æ–¥
üí∏ –ù–∞–ª–æ–≥–æ–≤—ã–π –≤—ã—á–µ—Ç –¥–æ 52 000 ‚ÇΩ –≤ –≥–æ–¥
üîí –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ–º –¥–æ 2,8 –º–ª–Ω ‚ÇΩ`,
    expected: false,
  },
  {
    name: '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ',
    text: `üëã –ü—Ä–∏–≤–µ—Ç! –Ø Capital Compass AI.

üéØ –ß—Ç–æ —è —É–º–µ—é:
‚Ä¢ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –≤–∑–Ω–æ—Å—ã –ø–æ –ü–î–°
‚Ä¢ –°–ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞–ø–∏—Ç–∞–ª –∫ –ø–µ–Ω—Å–∏–∏
‚Ä¢ –í—ã—á–∏—Å–ª–∏—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—É—é –≤—ã–ø–ª–∞—Ç—É`,
    expected: false,
  },
  {
    name: '–†–∞—Å—á—ë—Ç —Å —Ä–∞–∑–±–∏–≤–∫–æ–π –ø—Ä–∏—Ç–æ–∫–∞',
    text: `üìä **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –¢—Ä–µ–±—É–µ–º—ã–π –≤–∑–Ω–æ—Å: 50 000 ‚ÇΩ –≤ –º–µ—Å—è—Ü

–†–∞–∑–±–∏–≤–∫–∞ –ø—Ä–∏—Ç–æ–∫–∞:
- üí∞ –õ–∏—á–Ω—ã–µ –≤–∑–Ω–æ—Å—ã: 600 000 ‚ÇΩ –≤ –≥–æ–¥
- üèõÔ∏è –ì–æ—Å–ø–æ–¥–¥–µ—Ä–∂–∫–∞: 300 000 ‚ÇΩ –≤ –≥–æ–¥
- üí∏ –ù–∞–ª–æ–≥–æ–≤—ã–π –≤—ã—á–µ—Ç: 78 000 ‚ÇΩ –≤ –≥–æ–¥`,
    expected: true,
  },
  {
    name: '–û—à–∏–±–∫–∞',
    text: `‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑ –ø–æ–∑–∂–µ.`,
    expected: false,
  },
];

function testButtonLogic() {
  console.log('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –ª–æ–≥–∏–∫—É –ø–æ–∫–∞–∑–∞ –∫–Ω–æ–ø–∫–∏ PDF...\n');

  let passed = 0;
  let failed = 0;

  for (const test of testResponses) {
    const result = isCalculationResponse(test.text);
    const status = result === test.expected ? '‚úÖ' : '‚ùå';

    console.log(`${status} ${test.name}`);
    console.log(
      `   –û–∂–∏–¥–∞–ª–æ—Å—å: ${test.expected ? '–ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É PDF' : '–ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É PDF'}`
    );
    console.log(`   –ü–æ–ª—É—á–µ–Ω–æ: ${result ? '–ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É PDF' : '–ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É PDF'}`);
    console.log(`   –¢–µ–∫—Å—Ç: ${test.text.substring(0, 50)}...\n`);

    if (result === test.expected) {
      passed++;
    } else {
      failed++;
    }
  }

  console.log(`üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:`);
  console.log(`   ‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ: ${passed}`);
  console.log(`   ‚ùå –ü—Ä–æ–≤–∞–ª–µ–Ω–æ: ${failed}`);
  console.log(`   üìà –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: ${Math.round((passed / testResponses.length) * 100)}%`);

  if (failed === 0) {
    console.log('\nüéâ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ!');
  } else {
    console.log('\n‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏–∫—É.');
  }
}

// –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã
testButtonLogic();
